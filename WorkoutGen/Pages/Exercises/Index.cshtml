@page
@model WorkoutGen.Pages.Exercises.IndexModel

@{
    ViewData["Title"] = "Index";
}

<div class="row">
    <div class="col-2"></div>
    <div class="col-6">

        @if (Model.Exercises.Count > 0)
        {

            <div id="carouselExercises" class="carousel slide border-dark" data-ride="carousel">

                <ol class="carousel-indicators">
                    @for (int i = 0; i < Model.Exercises.Count(); i++)
                    {
                        <li data-target="#carouselExercises" data-slide-to="@i" class="@GetActiveClass(i)"></li>
                    }
                </ol>

                <div class="carousel-inner">

                    @for (int i = 0; i < Model.Exercises.Count(); i++)
                    {
                        <div class="carousel-item @GetActiveClass(i)">
                            <img src="~/Images/Exercises/@Model.Exercises[i].Image" class="exercise-image d-block w-100" alt="Workout example">
                            <div class="carousel-caption d-none d-md-block text-white bg-dark rounded-pill">
                                <h5>@Model.Exercises[i].Name</h5>
                                <p>Description goes here</p>
                            </div>
                        </div>
                    }

                </div>
                <a class="carousel-control-prev" href="#carouselExercises" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon bg-dark" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExercises" role="button" data-slide="next">
                    <span class="carousel-control-next-icon bg-dark" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>

        }
        else
        {
            <div>Nothing was found</div>
        }

    </div>
    <div class="col-2"></div>
</div>

@functions{

    // Sets active class to the first exercise in carousel
    public string GetActiveClass(int index)
    {
        if (index == 0)
            return "active";

        return "";
    }
}

@section Scripts {

    <script>

        $('.carousel').carousel({
            interval: false
        });

    </script>

    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
